<html>
    <head>
        <style>
            .hidden {
                display: none;
            }
        </style>
    </head>

    <body>

        <div id="repository">
            <div class="compliant hidden">
                <h1>Use a publicly accessible repository with version control</h1>
                <p>
                Well done
                </p>
            </div>
            <div class="noncompliant">
                <h1>Use a publicly accessible repository with version control</h1>
                <p>
                Here's what to do about it
                </p>
            </div>
        </div>

        <div id="license">
            <div class="compliant hidden">
                <h1>Add a license</h1>
                <p>
                Well done
                </p>
            </div>
            <div class="noncompliant">
                <h1>Add a license</h1>
                <p>
                Here's what to do about it
                </p>
            </div>
        </div>

        <div id="registry">
            <div class="compliant hidden">
                <h1>Register your code in a community registry</h1>
                <p>
                Well done
                </p>
            </div>
            <div class="noncompliant">
                <h1>Register your code in a community registry</h1>
                <p>
                Here's what to do about it
                </p>
            </div>
        </div>

        <div id="citation">
            <div class="compliant hidden">
                <h1>Enable citation of the software</h1>
                <p>
                Well done
                </p>
            </div>
            <div class="noncompliant">
                <h1>Enable citation of the software</h1>
                <p>
                Here's what to do about it
                </p>
            </div>
        </div>

        <div id="checklist">
            <div class="compliant hidden">
                <h1>Use a software quality checklist</h1>
                <p>
                Well done
                </p>
            </div>
            <div class="noncompliant">
                <h1>Use a software quality checklist</h1>
                <p>
                Here's what to do about it
                </p>
            </div>
        </div>

        <script>
            const getQueryVariable = (variable) => {
                const query = window.location.search.substring(1);
                const pairs = query.split("&");
                for (const pair of pairs) {
                    const [key, value] = pair.split("=")
                    if (key === variable) {
                        return value;
                    }
                }
                return(false);
            }

            const setVisibility = () => {
                const compliance = getQueryVariable("compliance");
                const recommendations = ["repository", "license", "registry", "citation", "checklist"];
                
                for (const [i, recommendation] of recommendations.entries()) {
                    if (compliance[i] === "1") {
                        document.getElementById(recommendation)
                                .getElementsByClassName("compliant")[0].classList.remove("hidden")
                        document.getElementById(recommendation)
                                .getElementsByClassName("noncompliant")[0].classList.add("hidden")
                    } else {
                        document.getElementById(recommendation)
                                .getElementsByClassName("compliant")[0].classList.add("hidden")
                        document.getElementById(recommendation)
                                .getElementsByClassName("noncompliant")[0].classList.remove("hidden")
                    }
                }
            }

            setVisibility()

        </script>

    </body>
</html>